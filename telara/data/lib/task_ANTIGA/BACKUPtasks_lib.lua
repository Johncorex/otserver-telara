rankStorage = 32150

THESNAPPER = {80000, 1}
DEMODRAS = {80001, 1}
HIDE = {80002, 1}
THEBLOODTUSK = {80003, 1}
SHARDHEAD = {80004, 1}
THUL = {80005, 1}
ESMERALDA = {80006, 1}
THEOLDWIDOW = {80007, 1}
THEMANY = {80008, 1}
LEVIATHAN = {80009, 1}
STONECRACKER = {80010, 1}
THENOXIUSSPAWN = {80011, 1}
MERIKHTHESLAUGHTERER = {80012, 1}
FAHIMTHEWISE = {80013, 1}
RANDOMPIRATEBOSS = {80014, 1}
THEHORNEDFOX = {80015, 1}
NECROPHARUS = {80016, 1}

tasks =
{
[1] = {questStarted = 65000, questStorage = 65100, killsRequired = 100, raceName = "Trolls", repeatable = false, rewards = {{enable = true, type = "exp", values = 40000}, {enable = true, type = "money", values = 40000}}},
[2] = {questStarted = 65001, questStorage = 65101, killsRequired = 150, raceName = "Goblins", repeatable = false, rewards = {{enable = true, type = "exp", values = 700}, {enable = true, type = "money", values = 5000}}},
[3] = {questStarted = 65002, questStorage = 65102, killsRequired = 300, raceName = "Rotworms", repeatable = false, rewards = {{enable = true, type = "exp", values = 1000}, {enable = true, type = "money", values = 7000}}},
[4] = {questStarted = 65003, questStorage = 65103, killsRequired = 500, raceName = "Cyclops", repeatable = false, rewards = {{enable = true, type = "exp", values = 1500}, {enable = true, type = "money", values = 10000}}},
[5] = {questStarted = 14007, questStorage = 14107, killsRequired = 300, raceName = "Crocodiles", repeatable = true, rewards = {{enable = true, type = "exp", values = 800}, {enable = true, type = "item", values = {3982,1}}, {enable = true, type = "money", values = 5000}, {enable = true, type = "points", values = 2}}},
[6] = {questStarted = 14008, questStorage = 14108, killsRequired = 300, raceName = "Tarantulas", repeatable = true, rewards = {{enable = true, type = "exp", values = 1500}, {enable = true, type = "item", values = {2477,1}}, {enable = true, type = "points", values = 2}}},
[7] = {questStarted = 14009, questStorage = 14109, killsRequired = 150, raceName = "Carniphilas", repeatable = false, rewards = {{enable = true, type = "exp", values = 2500}, {enable = true, type = "item", values = {10305,1}}}},
[8] = {questStarted = 14010, questStorage = 14110, killsRequired = 200, raceName = "Stone Golems", repeatable = false, rewards = {{enable = true, type = "exp", values = 2000}, {enable = true, type = "money", values = 15000}}},
[9] = {questStarted = 14029, questStorage = 14125, killsRequired = 300, raceName = "Crystal Spiders", repeatable = true, rewards = {{enable = true, type = "exp", values = 15000}, {enable = true, type = "item", values = {5879,4}}, {enable = true, type = "item", values = {7896,1}}}},
[10] = {questStarted = 14011, questStorage = 14111, killsRequired = 300, raceName = "Ice Golems", repeatable = true, rewards = {{enable = true, type = "exp", values = 15000}, {enable = true, type = "item", values = {7902,1}}, {enable = true, type = "item", values = {7290,1}}, {enable = true, type = "points", values = 2}}},
[11] = {questStarted = 14012, questStorage = 14112, killsRequired = 250, raceName = "Ancients Scarabs", repeatable = true, rewards = {{enable = true, type = "exp", values = 15000}, {enable = true, type = "item", values = {7902,1}}, {enable = true, type = "item", values = {7290,1}}, {enable = true, type = "points", values = 2}}},
[12] = {questStarted = 14013, questStorage = 14113, killsRequired = 400, raceName = "Quaras Scout", repeatable = true, rewards = {{enable = true, type = "exp", values = 15000}, {enable = true, type = "item", values = {13305,1}}}},
[13] = {questStarted = 14014, questStorage = 14114, killsRequired = 600, raceName = "Quaras", repeatable = true, rewards = {{enable = true, type = "exp", values = 15000}, {enable = true, type = "item", values = {7963,1}}, {enable = true, type = "item", values = {7383,1}}, {enable = true, type = "points", values = 2}}},
[14] = {questStarted = 14015, questStorage = 14115, killsRequired = 500, raceName = "Water Elementals", repeatable = false, rewards = {{enable = true, type = "exp", values = 2000}, {enable = true, type = "item", values = {18412,1}}}},
[15] = {questStarted = 14016, questStorage = 14116, killsRequired = 500, raceName = "Earth Elementals", repeatable = false, rewards = {{enable = true, type = "exp", values = 2000}, {enable = true, type = "item", values = {18411,1}}}},
[16] = {questStarted = 14017, questStorage = 14117, killsRequired = 500, raceName = "Energy Elementals", repeatable = false, rewards = {{enable = true, type = "exp", values = 2000}, {enable = true, type = "item", values = {18390,1}}}},
[17] = {questStarted = 14018, questStorage = 14118, killsRequired = 500, raceName = "Fire Elementals", repeatable = false, rewards = {{enable = true, type = "exp", values = 2000}, {enable = true, type = "item", values = {18409,1}}}},
[18] = {questStarted = 14019, questStorage = 14119, killsRequired = 2000, raceName = "Mutated Rats", repeatable = true, rewards = {{enable = true, type = "exp", values = 10000}, {enable = true, type = "item", values = {2528,1}},  {enable = true, type = "item", values = {7884,1}}, {enable = true, type = "points", values = 2}}},
[19] = {questStarted = 14020, questStorage = 14120, killsRequired = 500, raceName = "Giant Spiders", repeatable = true, rewards = {{enable = true, type = "exp", values = 20000}, {enable = true, type = "item", values = {2476,1}},  {enable = true, type = "item", values = {13307,1}}, {enable = true, type = "points", values = 2}}},
[20] = {questStarted = 14021, questStorage = 14121, killsRequired = 650, raceName = "Hydras", repeatable = true, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {2214,1}},  {enable = true, type = "item", values = {2498,1}}, {enable = true, type = "points", values = 4}}},
[21] = {questStarted = 14001, questStorage = 14101, killsRequired = 900, raceName = "Sea Serpents", repeatable = true, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {10521,1}}, {enable = true, type = "item", values = {10220,1}}, {enable = true, type = "item", values = {10529,1}}, {enable = true, type = "points", values = 2}}},
[22] = {questStarted = 14022, questStorage = 14122, killsRequired = 700, raceName = "Behemoths", repeatable = true, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {2454,1}},  {enable = true, type = "item", values = {5893,10}}, {enable = true, type = "points", values = 2}}},
[23] = {questStarted = 14002, questStorage = 14102, killsRequired = 800, raceName = "Serpents Spawn", repeatable = true, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {10310,1}},  {enable = true, type = "item", values = {8880,1}}, {enable = true, type = "points", values = 4}}},
[24] = {questStarted = 65022, questStorage = 65122, killsRequired = 225, raceName = "Green Djinns", repeatable = true, rewards = {{enable = true, type = "exp", values = 23000}, {enable = true, type = "money", values = 8000}, {enable = true, type = "item", values = {5910,10}}}},
[25] = {questStarted = 65023, questStorage = 65123, killsRequired = 225, raceName = "Blue Djinns", repeatable = true, rewards = {{enable = true, type = "exp", values = 23000}, {enable = true, type = "money", values = 8000}, {enable = true, type = "item", values = {5912,1}}}},
[26] = {questStarted = 65024, questStorage = 65124, killsRequired = 3000, raceName = "Pirates", repeatable = false, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {6101,1}}}},
[27] = {questStarted = 14004, questStorage = 14104, killsRequired = 3000, raceName = "Minotaurs", repeatable = false, rewards = {{enable = true, type = "item", values = {5804,1}}}},
[28] = {questStarted = 14003, questStorage = 14103, killsRequired = 4000, raceName = "Magicians", repeatable = false, rewards = {{enable = true, type = "item", values = {5809,1}}}},
[29] = {questStarted = 65030, questStorage = 65130, killsRequired = 400, raceName = "Dragons", repeatable = true, rewards = {{enable = true, type = "exp", values = 20000}, {enable = true, type = "item", values = {2516,1}},  {enable = true, type = "item", values = {5920,20}}, {enable = true, type = "points", values = 2}}},
[30] = {questStarted = 14023, questStorage = 14119, killsRequired = 3000, raceName = "Grim Reapers", repeatable = false, rewards = {{enable = true, type = "exp", values = 70000}, {enable = true, type = "item", values = {8927,1}}}},
[31] = {questStarted = 14024, questStorage = 14120, killsRequired = 4000, raceName = "Warlocks", repeatable = false, rewards = {{enable = true, type = "exp", values = 50000}, {enable = true, type = "item", values = {2474,1}}}},
[32] = {questStarted = 14025, questStorage = 14121, killsRequired = 800, raceName = "Ghastly Dragons", repeatable = true, rewards = {{enable = true, type = "exp", values = 30000}, {enable = true, type = "item", values = {13938,1}}}},
[33] = {questStarted = 14026, questStorage = 14122, killsRequired = 500, raceName = "Medusas", repeatable = false, rewards = {{enable = true, type = "exp", values = 40000}, {enable = true, type = "item", values = {8869,1}}, {enable = true, type = "points", values = 5}}},
[34] = {questStarted = 14027, questStorage = 14123, killsRequired = 4000, raceName = "Warlocks", repeatable = false, rewards = {{enable = true, type = "exp", values = 50000}, {enable = true, type = "item", values = {2474,1}}}},
[35] = {questStarted = 14028, questStorage = 14124, killsRequired = 6666, raceName = "Demons", repeatable = false, rewards = {{enable = true, type = "exp", values = 100000}, {enable = true, type = "item", values = {2496,1}}}}
}

function getTasksStarted(cid)
local tmp = {}
for k, v in pairs(tasks) do
if getPlayerStorageValue(cid, v.questStarted) == 1 then
table.insert(tmp, k)
end
end
return tmp
end

function getTaskByName(name)
for k, v in pairs(tasks) do
if v.raceName:lower() == name:lower() then
return k
end
end
return false
end

function sendTaskWindow(cid)
taskWindow = ModalWindow(1900, "Mission Management", "Select a task:")
local task_status = {}

if taskWindow:getId() == 1900 then
    taskWindow:addButton(1, "Select")
    taskWindow:addButton(2, "Cancel")
	for i = 1, #tasks do
		if getPlayerStorageValue(cid, tasks[i].questStarted) == 2 then
			task_status[i] = "[completed]"
		else
			if getPlayerStorageValue(cid, tasks[i].questStarted) == 1 then
				task_status[i] = "[" .. getPlayerStorageValue(cid, tasks[i].questStorage) .. "/" .. tasks[i].killsRequired .. "]"
			else
				if getPlayerStorageValue(cid, tasks[i].questStarted) < 1 then
					task_status[i] = tasks[i].killsRequired
				else
					task_status[i] = tasks[i].killsRequired .. " [unknown]"
				end
			end
		end
		
		if getPlayerStorageValue(cid, tasks[i].questStarted) == 1 and getPlayerStorageValue(cid, tasks[i].questStorage) >= tasks[i].killsRequired then
			taskWindow:addChoice(i, tasks[i].raceName .. " [click for reward]")
		else
			taskWindow:addChoice(i, tasks[i].raceName .. ", " .. task_status[i])
		end
	end
end
taskWindow:sendToPlayer(cid)
return true
end